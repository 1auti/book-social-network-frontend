{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../service/service/authentication.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction RegisterComponent_div_4_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const msg_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(msg_r2);\n  }\n}\nfunction RegisterComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtemplate(1, RegisterComponent_div_4_p_1_Template, 2, 1, \"p\", 17);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.errorMsg);\n  }\n}\nexport class RegisterComponent {\n  constructor(router, authService) {\n    this.router = router;\n    this.authService = authService;\n    this.registerRequest = {\n      email: '',\n      firstname: '',\n      lastname: '',\n      password: ''\n    };\n    this.errorMsg = [];\n  }\n  login() {\n    this.router.navigate(['login']);\n  }\n  register() {\n    this.errorMsg = [];\n    this.authService.register({\n      body: this.registerRequest\n    }).subscribe({\n      next: () => {\n        this.router.navigate(['activate-account']);\n      },\n      error: err => {\n        this.errorMsg = err.error.validationErrors;\n      }\n    });\n  }\n  static #_ = this.ɵfac = function RegisterComponent_Factory(t) {\n    return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthenticationService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegisterComponent,\n    selectors: [[\"app-register\"]],\n    decls: 29,\n    vars: 5,\n    consts: [[1, \"container-fluid\", \"card\", \"login-container\"], [1, \"text-center\"], [\"class\", \"alert alert-danger\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"mb-3\"], [\"for\", \"firstname\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"firstname\", \"placeholder\", \"Firstname\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"lastname\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"lastname\", \"placeholder\", \"Lastname\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"login\", 1, \"form-label\"], [\"type\", \"email\", \"id\", \"login\", \"placeholder\", \"name@example.com\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"password\", \"placeholder\", \"Password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"d-flex\", \"justify-content-between\", \"mb-3\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"fas\", \"fa-sign-in-alt\"], [\"type\", \"button\", 1, \"btn\", \"btn-link\", 3, \"click\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function RegisterComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\", 1);\n        i0.ɵɵtext(2, \"Create an account\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"hr\");\n        i0.ɵɵtemplate(4, RegisterComponent_div_4_Template, 2, 1, \"div\", 2);\n        i0.ɵɵelementStart(5, \"div\", 3)(6, \"label\", 4);\n        i0.ɵɵtext(7, \"Firstname\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"input\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_8_listener($event) {\n          return ctx.registerRequest.firstname = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"div\", 3)(10, \"label\", 6);\n        i0.ɵɵtext(11, \"Lastname\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_12_listener($event) {\n          return ctx.registerRequest.lastname = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(13, \"div\", 3)(14, \"label\", 8);\n        i0.ɵɵtext(15, \"Email address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_16_listener($event) {\n          return ctx.registerRequest.email = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"div\", 3)(18, \"label\", 10);\n        i0.ɵɵtext(19, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_20_listener($event) {\n          return ctx.registerRequest.password = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"div\", 12)(22, \"button\", 13);\n        i0.ɵɵlistener(\"click\", function RegisterComponent_Template_button_click_22_listener() {\n          return ctx.register();\n        });\n        i0.ɵɵelementStart(23, \"em\", 14);\n        i0.ɵɵtext(24, \"\\u00A0Create an account\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(25, \"div\");\n        i0.ɵɵtext(26, \" Already have an account?\\u00A0 \");\n        i0.ɵɵelementStart(27, \"button\", 15);\n        i0.ɵɵlistener(\"click\", function RegisterComponent_Template_button_click_27_listener() {\n          return ctx.login();\n        });\n        i0.ɵɵtext(28, \" Login \");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorMsg.length);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.registerRequest.firstname);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.registerRequest.lastname);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.registerRequest.email);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.registerRequest.password);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","msg_r2","ɵɵtemplate","RegisterComponent_div_4_p_1_Template","ɵɵproperty","ctx_r0","errorMsg","RegisterComponent","constructor","router","authService","registerRequest","email","firstname","lastname","password","login","navigate","register","body","subscribe","next","error","err","validationErrors","_","ɵɵdirectiveInject","i1","Router","i2","AuthenticationService","_2","selectors","decls","vars","consts","template","RegisterComponent_Template","rf","ctx","ɵɵelement","RegisterComponent_div_4_Template","ɵɵlistener","RegisterComponent_Template_input_ngModelChange_8_listener","$event","RegisterComponent_Template_input_ngModelChange_12_listener","RegisterComponent_Template_input_ngModelChange_16_listener","RegisterComponent_Template_input_ngModelChange_20_listener","RegisterComponent_Template_button_click_22_listener","RegisterComponent_Template_button_click_27_listener","length"],"sources":["C:\\Users\\Lautaro\\Desktop\\Desarrollo-web\\Proyectos\\book-social-network\\src\\app\\pages\\register\\register.component.ts","C:\\Users\\Lautaro\\Desktop\\Desarrollo-web\\Proyectos\\book-social-network\\src\\app\\pages\\register\\register.component.html"],"sourcesContent":["import {Component} from '@angular/core';\r\nimport {Router} from '@angular/router';\r\nimport {AuthenticationService} from '../../service/service/authentication.service';\r\nimport {RegistrationRequest} from '../../service/model/registration-request';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.scss']\r\n})\r\nexport class RegisterComponent {\r\n\r\n  registerRequest: RegistrationRequest = {email: '', firstname: '', lastname: '', password: ''};\r\n  errorMsg: Array<string> = [];\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private authService: AuthenticationService\r\n  ) {\r\n  }\r\n\r\n  login() {\r\n    this.router.navigate(['login']);\r\n  }\r\n\r\n  register() {\r\n    this.errorMsg = [];\r\n    this.authService.register({\r\n      body: this.registerRequest\r\n    })\r\n      .subscribe({\r\n        next: () => {\r\n          this.router.navigate(['activate-account']);\r\n        },\r\n        error: (err) => {\r\n          this.errorMsg = err.error.validationErrors;\r\n        }\r\n      });\r\n  }\r\n}","<div class=\"container-fluid card login-container\">\r\n    <h3 class=\"text-center\">Create an account</h3>\r\n    <hr>\r\n    <div class=\"alert alert-danger\" role=\"alert\" *ngIf=\"errorMsg.length\">\r\n      <p *ngFor=\"let msg of errorMsg\">{{msg}}</p>\r\n    </div>\r\n    <div class=\"mb-3\">\r\n      <label for=\"firstname\" class=\"form-label\">Firstname</label>\r\n      <input [(ngModel)]=\"registerRequest.firstname\" type=\"text\" class=\"form-control\" id=\"firstname\" placeholder=\"Firstname\">\r\n    </div>\r\n    <div class=\"mb-3\">\r\n      <label for=\"lastname\" class=\"form-label\">Lastname</label>\r\n      <input [(ngModel)]=\"registerRequest.lastname\" type=\"text\" class=\"form-control\" id=\"lastname\" placeholder=\"Lastname\">\r\n    </div>\r\n    <div class=\"mb-3\">\r\n      <label for=\"login\" class=\"form-label\">Email address</label>\r\n      <input [(ngModel)]=\"registerRequest.email\" type=\"email\" class=\"form-control\" id=\"login\" placeholder=\"name@example.com\">\r\n    </div>\r\n    <div class=\"mb-3\">\r\n      <label for=\"password\" class=\"form-label\">Password</label>\r\n      <input [(ngModel)]=\"registerRequest.password\" type=\"password\" class=\"form-control\" id=\"password\" placeholder=\"Password\">\r\n    </div>\r\n    <div class=\"d-flex justify-content-between mb-3\">\r\n      <button (click)=\"register()\" type=\"button\" class=\"btn btn-primary\">\r\n        <em class=\"fas fa-sign-in-alt\">&nbsp;Create an account</em>\r\n      </button>\r\n      <div>\r\n        Already have an account?&nbsp;\r\n        <button (click)=\"login()\" type=\"button\" class=\"btn btn-link\">\r\n          Login\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}