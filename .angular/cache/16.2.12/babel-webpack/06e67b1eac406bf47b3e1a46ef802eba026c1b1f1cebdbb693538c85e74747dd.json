{"ast":null,"code":"import { skipUntil } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../service/service/authentication.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"angular-code-input\";\nfunction ActivateAccountComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"h2\");\n    i0.ɵɵtext(2, \"Activation Successful!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"Your account has been successfully activated.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ActivateAccountComponent_div_0_div_1_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.redirectToLogin());\n    });\n    i0.ɵɵtext(6, \"Go to Login\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ActivateAccountComponent_div_0_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"h2\");\n    i0.ɵɵtext(2, \"Activation Failed!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ActivateAccountComponent_div_0_ng_template_2_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.submitted = false);\n    });\n    i0.ɵɵtext(6, \"Try again\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r5.message);\n  }\n}\nfunction ActivateAccountComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, ActivateAccountComponent_div_0_div_1_Template, 7, 0, \"div\", 3);\n    i0.ɵɵtemplate(2, ActivateAccountComponent_div_0_ng_template_2_Template, 7, 1, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r4 = i0.ɵɵreference(3);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isOkay)(\"ngIfElse\", _r4);\n  }\n}\nfunction ActivateAccountComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 8)(2, \"h2\");\n    i0.ɵɵtext(3, \"Type your activation code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"code-input\", 9);\n    i0.ɵɵlistener(\"codeCompleted\", function ActivateAccountComponent_ng_template_1_Template_code_input_codeCompleted_4_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.onCodeCompleted($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function ActivateAccountComponent_ng_template_1_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.redirectToLogin());\n    });\n    i0.ɵɵtext(6, \"Go to Login\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"isCodeHidden\", false)(\"codeLength\", 6)(\"code\", \"number\");\n  }\n}\nexport class ActivateAccountComponent {\n  constructor(router, authService) {\n    this.router = router;\n    this.authService = authService;\n    this.message = '';\n    this.isOkay = true;\n    this.submitted = false;\n    this.skipUntil = skipUntil;\n  }\n  confirmAccount(token) {\n    this.authService.confirm({\n      token\n    }).subscribe({\n      next: () => {\n        this.message = 'Your account has been successfully activated.\\nNow you can proceed to login';\n        this.submitted = true;\n      },\n      error: () => {\n        this.message = 'Token has been expired or invalid';\n        this.submitted = true;\n        this.isOkay = false;\n      }\n    });\n  }\n  redirectToLogin() {\n    this.router.navigate(['login']);\n  }\n  onCodeCompleted(token) {\n    this.confirmAccount(token);\n  }\n  static #_ = this.ɵfac = function ActivateAccountComponent_Factory(t) {\n    return new (t || ActivateAccountComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthenticationService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ActivateAccountComponent,\n    selectors: [[\"app-activate-account\"]],\n    decls: 3,\n    vars: 2,\n    consts: [[\"class\", \"container\", 4, \"ngIf\", \"ngIfElse\"], [\"codeForm\", \"\"], [1, \"container\"], [\"class\", \"activation-message\", 4, \"ngIf\", \"ngIfElse\"], [\"activationError\", \"\"], [1, \"activation-message\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"activation-error\"], [1, \"text-center\", 2, \"width\", \"400px\"], [3, \"isCodeHidden\", \"codeLength\", \"code\", \"codeCompleted\"], [1, \"btn\", \"btn-primary\", \"mt-3\", 3, \"click\"]],\n    template: function ActivateAccountComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ActivateAccountComponent_div_0_Template, 4, 2, \"div\", 0);\n        i0.ɵɵtemplate(1, ActivateAccountComponent_ng_template_1_Template, 7, 3, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.submitted)(\"ngIfElse\", _r1);\n      }\n    },\n    dependencies: [i3.NgIf, i4.CodeInputComponent],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["skipUntil","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ActivateAccountComponent_div_0_div_1_Template_button_click_5_listener","ɵɵrestoreView","_r7","ctx_r6","ɵɵnextContext","ɵɵresetView","redirectToLogin","ActivateAccountComponent_div_0_ng_template_2_Template_button_click_5_listener","_r9","ctx_r8","submitted","ɵɵadvance","ɵɵtextInterpolate","ctx_r5","message","ɵɵtemplate","ActivateAccountComponent_div_0_div_1_Template","ActivateAccountComponent_div_0_ng_template_2_Template","ɵɵtemplateRefExtractor","ɵɵproperty","ctx_r0","isOkay","_r4","ActivateAccountComponent_ng_template_1_Template_code_input_codeCompleted_4_listener","$event","_r11","ctx_r10","onCodeCompleted","ActivateAccountComponent_ng_template_1_Template_button_click_5_listener","ctx_r12","ActivateAccountComponent","constructor","router","authService","confirmAccount","token","confirm","subscribe","next","error","navigate","_","ɵɵdirectiveInject","i1","Router","i2","AuthenticationService","_2","selectors","decls","vars","consts","template","ActivateAccountComponent_Template","rf","ctx","ActivateAccountComponent_div_0_Template","ActivateAccountComponent_ng_template_1_Template","_r1"],"sources":["C:\\Users\\Lautaro\\Desktop\\Desarrollo-web\\Proyectos\\book-social-network\\src\\app\\pages\\activate-account\\activate-account.component.ts","C:\\Users\\Lautaro\\Desktop\\Desarrollo-web\\Proyectos\\book-social-network\\src\\app\\pages\\activate-account\\activate-account.component.html"],"sourcesContent":["import {Component} from '@angular/core';\r\nimport {Router} from '@angular/router';\r\nimport {AuthenticationService} from '../../service/service/authentication.service';\r\nimport {skipUntil} from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-activate-account',\r\n  templateUrl: './activate-account.component.html',\r\n  styleUrls: ['./activate-account.component.scss']\r\n})\r\nexport class ActivateAccountComponent {\r\n\r\n  message = '';\r\n  isOkay = true;\r\n  submitted = false;\r\n  constructor(\r\n    private router: Router,\r\n    private authService: AuthenticationService\r\n  ) {}\r\n\r\n  private confirmAccount(token: string) {\r\n    this.authService.confirm({\r\n      token\r\n    }).subscribe({\r\n      next: () => {\r\n        this.message = 'Your account has been successfully activated.\\nNow you can proceed to login';\r\n        this.submitted = true;\r\n      },\r\n      error: () => {\r\n        this.message = 'Token has been expired or invalid';\r\n        this.submitted = true;\r\n        this.isOkay = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  redirectToLogin() {\r\n    this.router.navigate(['login']);\r\n  }\r\n\r\n  onCodeCompleted(token: string) {\r\n    this.confirmAccount(token);\r\n  }\r\n\r\n  protected readonly skipUntil = skipUntil;\r\n}","<div class=\"container\" *ngIf=\"submitted else codeForm\">\r\n    <div class=\"activation-message\" *ngIf=\"isOkay; else activationError\">\r\n      <h2>Activation Successful!</h2>\r\n      <p>Your account has been successfully activated.</p>\r\n      <button class=\"btn btn-primary\" (click)=\"redirectToLogin()\">Go to Login</button>\r\n    </div>\r\n    <ng-template #activationError>\r\n      <div class=\"activation-error\">\r\n        <h2>Activation Failed!</h2>\r\n        <p>{{ message }}</p>\r\n        <button class=\"btn btn-primary\" (click)=\"submitted = false\">Try again</button>\r\n      </div>\r\n    </ng-template>\r\n  </div>\r\n  <ng-template #codeForm>\r\n    <div class=\"container\">\r\n      <div class=\"text-center\" style=\"width: 400px;\">\r\n        <h2>Type your activation code</h2>\r\n        <code-input [isCodeHidden]=\"false\"\r\n                    [codeLength]=\"6\"\r\n                    [code]=\"'number'\"\r\n                    (codeCompleted)=\"onCodeCompleted($event)\">\r\n        </code-input>\r\n        <button class=\"btn btn-primary mt-3\" (click)=\"redirectToLogin()\">Go to Login</button>\r\n      </div>\r\n    </div>\r\n  </ng-template>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}